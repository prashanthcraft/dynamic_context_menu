<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jQuery contextMenu</title>

    <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic'
          rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="css/theme.css" type="text/css"/>
    <link href="css/jquery.contextMenu.css" rel="stylesheet" type="text/css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="js/jquery.contextMenu.js" type="text/javascript"></script>
    <script src="js/jquery.ui.position.min.js" type="text/javascript"></script>



</head>
<body>
    <div class="btn btn-neutral">
    <div class="test-context-menu">Right Click Me</div>
    </div>
    <script type="text/javascript">
		var menu1_item_names = ["item1", "item2", "item3", "item4"];
		var	menu2_item_names = ["item4", "item5", "item6"];
		
		$.contextMenu({
			selector: '.test-context-menu',
			build: function($trigger, e) {
				var options = { 
				  callback: function(key, options) {
					alert("Clicked on " + key + " on element " +  options.$selected.text());
					// TODO:
					// Display NAME of the menu item clicked(example: item1)
					//alert("Clicked on item:  " + JSON.stringify(options.items));                    
					return false;
				  },
				  // start with an empty map
				  items: {
					"fold1": { 
					  "name": "menu 1",
					  "items": {}
					},
					"fold2": {}                  
				  }
				};
		
				$.each(menu1_item_names, function(k, v) {
					options.items.fold1.items[k] = {
					 name: v
					};
				});
		
				if (typeof menu1_item_names !== 'undefined' && menu2_item_names.length > 0) {
				  options.items.fold2 = {
										  "name": "menu 2",
										  "items": {} 
										}
		
				  $.each(menu2_item_names, function(k, v) {
					  options.items.fold2.items[k] = {
						name: v
					  };
				  });
				}
				  
				options.items.sep1 = "---------";
				options.items.quit = {
					name: "Quit"
				};
				return options;
			}
		});
  	</script>
</body>
</html>
